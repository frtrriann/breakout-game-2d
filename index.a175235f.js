class t{x=0;y=0;dx=0;dy=0;radius=10;constructor(t,s){this.canvas=t,this.ctx=s,this.setInitialPosition()}setInitialPosition(){this.x=this.canvas.width/2,this.y=this.canvas.height-30,this.dx=2,this.dy=-2}draw(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fillStyle="#0095DD",this.ctx.fill(),this.ctx.closePath()}setDirection(){(this.x+this.dx>this.canvas.width-this.radius||this.x+this.dx<this.radius)&&this.revertXDirection(),this.y+this.dy<this.radius&&this.revertYDirection()}calcNewPosition(){this.x+=this.dx,this.y+=this.dy}revertXDirection(){this.dx=-this.dx}revertYDirection(){this.dy=-this.dy}}const s="ArrowRight",i="ArrowLeft";class h{x=0;y=0;dx=7;height=15;width=75;rightPressed=!1;leftPressed=!1;constructor(t,s){this.canvas=t,this.ctx=s,this.setInitialPosition(),document.addEventListener("keydown",this.keyDownHandler.bind(this),!1),document.addEventListener("keyup",this.keyUpHandler.bind(this),!1),document.addEventListener("mousemove",this.mouseMoveHandler.bind(this),!1)}setInitialPosition(){this.x=(this.canvas.width-this.width)/2,this.y=this.canvas.height-this.height}mouseMoveHandler(t){const s=t.clientX-this.canvas.offsetLeft;if(s>0&&s<this.canvas.width){const t=s-this.width/2;this.x=Math.min(Math.max(0,t),this.canvas.width-this.width)}}keyDownHandler(t){switch(t.key){case s:this.rightPressed=!0;break;case i:this.leftPressed=!0}}keyUpHandler(t){switch(t.key){case s:this.rightPressed=!1;break;case i:this.leftPressed=!1}}draw(){var t,s,i,h,e,a;this.ctx.beginPath(),t=this.ctx,s=this.x,i=this.y,h=this.width,e=this.height,h<2*(a=4)&&(a=h/2),e<2*a&&(a=e/2),t.beginPath(),t.moveTo(s+a,i),t.arcTo(s+h,i,s+h,i+e,a),t.arcTo(s+h,i+e,s,i+e,a),t.arcTo(s,i+e,s,i,a),t.arcTo(s,i,s+h,i,a),t.closePath(),this.ctx.fillStyle="#4b4b4b",this.ctx.fill(),this.ctx.closePath()}calcNewPosition(){this.rightPressed&&this.x<this.canvas.width-this.width&&(this.x+=this.dx),this.leftPressed&&this.x>0&&(this.x-=this.dx)}}class e{status=1;width=75;height=20;padding=10;offsetTop=30;offsetLeft=30;constructor(t,s,i,h){this.canvas=t,this.ctx=s,this.x=i*(this.width+this.padding)+this.offsetLeft,this.y=h*(this.height+this.padding)+this.offsetTop}draw(){this.ctx.beginPath(),this.ctx.rect(this.x,this.y,this.width,this.height),this.ctx.fillStyle="#0095DD",this.ctx.fill(),this.ctx.closePath()}destroy(){this.status=0}get isDestroyed(){return 0===this.status}}class a{bricks=[];rowCount=3;columnCount=5;constructor(t,s){this.canvas=t,this.ctx=s,this.createBricks()}createBricks(){for(let t=0;t<this.columnCount;t++){this.bricks[t]=[];for(let s=0;s<this.rowCount;s++)this.bricks[t][s]=new e(this.canvas,this.ctx,t,s)}}detectBallCollision(t,s){for(let i=0;i<this.columnCount;i++)for(let h=0;h<this.rowCount;h++){const e=this.bricks[i][h];if(!e.isDestroyed&&t>e.x&&t<e.x+e.width&&s>e.y&&s<e.y+e.height)return e.destroy(),!0}return!1}draw(){for(let t=0;t<this.columnCount;t++)for(let s=0;s<this.rowCount;s++)if(1==this.bricks[t][s].status){this.bricks[t][s].draw()}}}class c{paused=!0;constructor(t,s){this.update=t,this.draw=s,this.run=this.run.bind(this)}run(){this.paused||(requestAnimationFrame(this.run),this.update(),this.draw())}play(){this.paused&&(this.paused=!1,this.run())}pause(){this.paused=!0}}class r{score=0;constructor(t,s){this.canvas=t,this.ctx=s,this.draw()}increaseScore(){this.score++,this.draw()}setToZero(){this.score=0,this.draw()}draw(){this.ctx.font="16px Arial",this.ctx.fillStyle="#0095DD",this.ctx.fillText(`Score: ${this.score}`,8,20)}}class n{lives=3;constructor(t,s){this.canvas=t,this.ctx=s,this.draw()}get value(){return this.lives}decreaseLives(){this.lives--,this.draw()}setToZero(){this.lives=0,this.draw()}draw(){this.ctx.font="16px Arial",this.ctx.fillStyle="#0095DD",this.ctx.fillText(`❤️ ${this.lives}`,this.canvas.width-65,20)}}new class{constructor(){this.canvas=document.createElement("canvas"),this.canvas.width=480,this.canvas.height=640,this.ctx=this.canvas.getContext("2d"),this.ball=new t(this.canvas,this.ctx),this.paddle=new h(this.canvas,this.ctx),this.bricks=new a(this.canvas,this.ctx),this.score=new r(this.canvas,this.ctx),this.lives=new n(this.canvas,this.ctx),document.body.appendChild(this.canvas),window.screen.orientation.lock("portrait"),this.game=new c(this.update.bind(this),this.draw.bind(this)),this.game.play()}wallCollisionDetection(){this.ball.y+this.ball.dy>this.canvas.height-this.ball.radius&&(this.ball.x>this.paddle.x&&this.ball.x<this.paddle.x+this.paddle.width?this.ball.revertYDirection():(this.lives.decreaseLives(),this.lives.value?(this.paddle.setInitialPosition(),this.ball.setInitialPosition()):(this.game.pause(),alert("GAME OVER"),document.location.reload())))}brickCollisionDetection(){this.bricks.detectBallCollision(this.ball.x,this.ball.y)&&(this.ball.revertYDirection(),this.score.increaseScore(),this.score.score==this.bricks.rowCount*this.bricks.columnCount&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}update(){this.ball.setDirection(),this.brickCollisionDetection(),this.wallCollisionDetection(),this.ball.calcNewPosition(),this.paddle.calcNewPosition()}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ball.draw(),this.paddle.draw(),this.bricks.draw(),this.score.draw(),this.lives.draw()}};
//# sourceMappingURL=index.a175235f.js.map
